import { MongoClient } from 'mongodb';

async function testConnection() {
    const uri = 'mongodb+srv://nicolasrosaab_db_user:Gio4EAQhbEdQMISl@cluster0.npuhras.mongodb.net/arcsat-production';
    
    try {
        console.log('üîç Testando conex√£o com MongoDB Atlas...');
        
        const client = new MongoClient(uri, {
            serverSelectionTimeoutMS: 5000,
            connectTimeoutMS: 10000,
        });
        
        await client.connect();
        console.log('‚úÖ Conex√£o estabelecida com sucesso!');
        
        // Testar opera√ß√£o b√°sica
        const db = client.db('arcsat-production');
        const collections = await db.listCollections().toArray();
        console.log(`üìã Collections encontradas: ${collections.length}`);
        
        await client.close();
        console.log('üîê Conex√£o fechada com sucesso!');
        
    } catch (error) {
        console.error('‚ùå Erro na conex√£o:', error.message);
        process.exit(1);
    }
}

testConnection();