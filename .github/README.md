# üîê GitHub Actions Configuration

Esta pasta cont√©m arquivos de configura√ß√£o para GitHub Actions e CI/CD.

## üìÅ Arquivos

### Workflows
- `azure-deploy.yml` - Deploy principal para Azure App Service
- `ci-cd.yml` - Pipeline de CI/CD com testes e build
- `main.yml` - Deploy alternativo (API + Frontend + Docs)

### Documenta√ß√£o
- `AZURE_CREDENTIALS_REFERENCE.md` - Refer√™ncia das credenciais Azure (‚ö†Ô∏è n√£o commitar se tiver dados sens√≠veis)

---

## üöÄ Setup R√°pido

**1. Configure os GitHub Secrets:**

Acesse: https://github.com/avilaops/ArcSat/settings/secrets/actions

**2. Adicione os seguintes secrets:**

| Secret Name | Descri√ß√£o |
|------------|-----------|
| `AZURE_CREDENTIALS` | Credenciais do Service Principal do Azure |
| `MONGO_ATLAS_URI` | String de conex√£o do MongoDB Atlas |
| `JWT_SECRET` | Chave secreta JWT (32+ caracteres) |
| `CLOUDFLARE_API_TOKEN` | Token da API Cloudflare |
| `OPENAI_API_KEY` | Chave da API OpenAI (opcional) |

**3. Consulte a documenta√ß√£o completa:**

- [Guia Completo](../GITHUB_SECRETS_SETUP.md) - Instru√ß√µes detalhadas
- [Quick Start](../QUICK_SECRETS_SETUP.md) - Setup r√°pido em 5 minutos

---

## üìã Checklist

Antes de fazer push para `main`:

- [ ] Todos os secrets configurados no GitHub
- [ ] Azure Web App criado (`arcsat-crm`)
- [ ] Resource Group criado (`rg-arcsat-crm`)
- [ ] MongoDB Atlas configurado e acess√≠vel
- [ ] DNS configurado (se usando dom√≠nio customizado)

---

## üîç Monitoramento

Ap√≥s o push:

1. **GitHub Actions:** https://github.com/avilaops/ArcSat/actions
2. **Azure Portal:** https://portal.azure.com
3. **Logs do Azure:** Azure Portal > App Service > Log stream

---

## üêõ Troubleshooting

### Deploy falha com "Secret not found"
‚û°Ô∏è Verifique se todos os secrets foram adicionados corretamente

### "Azure login failed"
‚û°Ô∏è Verifique se `AZURE_CREDENTIALS` est√° com o JSON completo

### "MongoDB connection refused"
‚û°Ô∏è Confirme whitelist do IP no MongoDB Atlas (0.0.0.0/0 para GitHub Actions)

**Mais ajuda:** Consulte [GITHUB_SECRETS_SETUP.md](../GITHUB_SECRETS_SETUP.md)

---

## üìû Suporte

- **Documenta√ß√£o:** [Raiz do projeto](../)
- **Issues:** https://github.com/avilaops/ArcSat/issues
- **Email:** nicolas@avila.inc
