# ü§ù Guia de Contribui√ß√£o - ArcSat CRM

Obrigado por considerar contribuir com o ArcSat CRM! Este documento fornece diretrizes para contribuir com o projeto.

## üìã √çndice

- [C√≥digo de Conduta](#c√≥digo-de-conduta)
- [Como Contribuir](#como-contribuir)
- [Padr√µes de C√≥digo](#padr√µes-de-c√≥digo)
- [Processo de Pull Request](#processo-de-pull-request)
- [Reportando Bugs](#reportando-bugs)
- [Sugerindo Melhorias](#sugerindo-melhorias)

## üìú C√≥digo de Conduta

Este projeto adere a um c√≥digo de conduta. Ao participar, voc√™ deve manter um ambiente respeitoso e colaborativo.

## üöÄ Como Contribuir

### 1. Configure o Ambiente

```bash
# Clone o reposit√≥rio
git clone https://github.com/avilaops/ArcSat.git
cd ArcSat

# Instale as depend√™ncias
npm install
cd frontend/arcsat-landing && npm install && cd ../..

# Configure as vari√°veis de ambiente
cp .env.example .env
```

### 2. Crie uma Branch

```bash
# Atualize a branch main
git checkout main
git pull origin main

# Crie uma nova branch
git checkout -b tipo/descricao-curta
```

**Tipos de branches:**
- `feature/` - Nova funcionalidade
- `fix/` - Corre√ß√£o de bug
- `docs/` - Documenta√ß√£o
- `refactor/` - Refatora√ß√£o
- `test/` - Testes
- `chore/` - Tarefas gerais

**Exemplos:**
```bash
git checkout -b feature/adiciona-modulo-vendas
git checkout -b fix/corrige-validacao-email
git checkout -b docs/atualiza-api-readme
```

### 3. Fa√ßa suas Altera√ß√µes

- Escreva c√≥digo limpo e bem documentado
- Siga os padr√µes de c√≥digo do projeto
- Adicione testes quando aplic√°vel
- Atualize a documenta√ß√£o se necess√°rio

### 4. Teste suas Altera√ß√µes

```bash
# Backend
npm run lint
npm test

# Frontend
cd frontend/arcsat-landing
npm run lint
npm run build
```

### 5. Commit suas Mudan√ßas

Use **commits sem√¢nticos** seguindo o padr√£o [Conventional Commits](https://www.conventionalcommits.org/):

```bash
git add .
git commit -m "tipo: descri√ß√£o curta"
```

**Tipos de commit:**
- `feat` - Nova funcionalidade
- `fix` - Corre√ß√£o de bug
- `docs` - Documenta√ß√£o
- `style` - Formata√ß√£o (sem mudan√ßa de c√≥digo)
- `refactor` - Refatora√ß√£o
- `test` - Testes
- `chore` - Tarefas de build, configura√ß√µes, etc.
- `perf` - Melhorias de performance
- `ci` - Integra√ß√£o cont√≠nua

**Exemplos:**
```bash
git commit -m "feat: adiciona endpoint de busca de produtos"
git commit -m "fix: corrige erro na valida√ß√£o de CNPJ"
git commit -m "docs: atualiza guia de instala√ß√£o"
git commit -m "refactor: melhora estrutura do modelo User"
git commit -m "test: adiciona testes para rota de auth"
```

### 6. Push para o GitHub

```bash
git push origin tipo/descricao-curta
```

### 7. Abra um Pull Request

1. Acesse o reposit√≥rio no GitHub
2. Clique em "Compare & pull request"
3. Preencha o template de PR
4. Aguarde a revis√£o

## üìù Padr√µes de C√≥digo

### JavaScript/Node.js

```javascript
// ‚úÖ BOM
const getUserById = async (id) => {
  try {
    const user = await User.findById(id);
    return user;
  } catch (error) {
    throw new Error(`Erro ao buscar usu√°rio: ${error.message}`);
  }
};

// ‚ùå RUIM
const getUser = async(id)=>{
  const user=await User.findById(id);
  return user;
}
```

**Regras:**
- Use `const` e `let`, nunca `var`
- Use arrow functions quando apropriado
- Sempre use try-catch em fun√ß√µes async
- Use nomes descritivos para vari√°veis e fun√ß√µes
- Adicione coment√°rios quando necess√°rio
- Use aspas duplas para strings

### TypeScript/React

```typescript
// ‚úÖ BOM
interface UserProps {
  name: string;
  email: string;
  role?: "admin" | "user";
}

const UserCard: React.FC<UserProps> = ({ name, email, role = "user" }) => {
  return (
    <div className="user-card">
      <h3>{name}</h3>
      <p>{email}</p>
      <span>{role}</span>
    </div>
  );
};

// ‚ùå RUIM
const UserCard = (props) => (
  <div>
    <h3>{props.name}</h3>
  </div>
)
```

**Regras:**
- Sempre defina tipos/interfaces
- Use componentes funcionais
- Use hooks do React apropriadamente
- Componentes devem ter responsabilidade √∫nica
- Use TypeScript strict mode

### MongoDB/Mongoose

```javascript
// ‚úÖ BOM
const userSchema = new mongoose.Schema({
  name: {
    type: String,
    required: [true, "Nome √© obrigat√≥rio"],
    trim: true,
    minlength: [3, "Nome deve ter no m√≠nimo 3 caracteres"]
  },
  email: {
    type: String,
    required: true,
    unique: true,
    lowercase: true,
    validate: [validator.isEmail, "Email inv√°lido"]
  }
}, {
  timestamps: true
});

// ‚ùå RUIM
const userSchema = new mongoose.Schema({
  name: String,
  email: String
});
```

**Regras:**
- Sempre defina valida√ß√µes nos schemas
- Use `timestamps: true` para createdAt/updatedAt
- Adicione indexes para campos pesquisados
- Use populate() ao inv√©s de m√∫ltiplas queries
- Implemente soft deletes quando apropriado

## üîç Processo de Pull Request

### Template de PR

Ao abrir um PR, inclua:

```markdown
## Descri√ß√£o
Breve descri√ß√£o das mudan√ßas.

## Tipo de Mudan√ßa
- [ ] Bug fix
- [ ] Nova funcionalidade
- [ ] Breaking change
- [ ] Documenta√ß√£o

## Como Testar
1. Passo 1
2. Passo 2
3. Passo 3

## Checklist
- [ ] C√≥digo segue os padr√µes do projeto
- [ ] Testes foram adicionados/atualizados
- [ ] Documenta√ß√£o foi atualizada
- [ ] Todos os testes passam
- [ ] Lint passa sem erros
```

### Revis√£o de C√≥digo

- Todos os PRs devem ser revisados por pelo menos 1 pessoa
- Resolva todos os coment√°rios antes do merge
- Mantenha PRs pequenos e focados
- PRs grandes devem ser divididos

### Merge

- Ap√≥s aprova√ß√£o, o PR ser√° merged pelo mantenedor
- Use "Squash and merge" para manter hist√≥rico limpo
- Delete a branch ap√≥s o merge

## üêõ Reportando Bugs

### Antes de Reportar

1. Verifique se o bug j√° foi reportado
2. Verifique se est√° na vers√£o mais recente
3. Tente reproduzir o bug

### Como Reportar

Crie uma issue com:

```markdown
**Descri√ß√£o do Bug**
Descri√ß√£o clara do que aconteceu.

**Passos para Reproduzir**
1. V√° para '...'
2. Clique em '....'
3. Veja o erro

**Comportamento Esperado**
O que deveria acontecer.

**Screenshots**
Se aplic√°vel, adicione screenshots.

**Ambiente**
- OS: [ex: Windows 11]
- Node: [ex: 18.0.0]
- Browser: [ex: Chrome 120]

**Informa√ß√µes Adicionais**
Qualquer outra informa√ß√£o relevante.
```

## üí° Sugerindo Melhorias

### Template de Sugest√£o

```markdown
**Sua Sugest√£o**
Descri√ß√£o clara da melhoria.

**Problema que Resolve**
Qual problema isso resolve?

**Solu√ß√£o Proposta**
Como voc√™ imagina que isso funcionaria?

**Alternativas Consideradas**
Quais outras solu√ß√µes voc√™ considerou?

**Contexto Adicional**
Screenshots, mockups, exemplos, etc.
```

## üìö Recursos √öteis

- [Node.js Best Practices](https://github.com/goldbergyoni/nodebestpractices)
- [React Best Practices](https://react.dev/)
- [Conventional Commits](https://www.conventionalcommits.org/)
- [MongoDB Best Practices](https://www.mongodb.com/docs/manual/administration/production-notes/)

## ‚ùì D√∫vidas

Se tiver d√∫vidas, voc√™ pode:

- Abrir uma issue com a tag `question`
- Entrar em contato: nicolas@avila.inc

---

**Obrigado por contribuir! üöÄ**
